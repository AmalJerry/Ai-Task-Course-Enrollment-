<div class="page">
  <header class="page-header">
    <div>
      <h1>Available Courses</h1>
      <p class="page-subtitle">
        Choose a course and apply using your student ID.
      </p>
    </div>

    <div class="student-box">
      <label class="student-label">
        <span>Student ID</span>
        <input
          type="number"
          [(ngModel)]="studentId"
          class="student-input"
          placeholder="Enter your ID"
        />
      </label>
      <small class="student-hint">
        Use a valid student user ID from your database.
      </small>
    </div>
  </header>

  <section class="status-messages">
    <div *ngIf="loading" class="info-banner">
      Loading courses...
    </div>

    <div *ngIf="errorMessage" class="error-banner">
      {{ errorMessage }}
    </div>

    <div *ngIf="successMessage" class="success-banner">
      {{ successMessage }}
    </div>
  </section>

  <section *ngIf="!loading && !courses.length" class="empty-state">
    <h2>No courses available yet</h2>
    <p>
      Once a teacher creates courses, they will appear here automatically.
    </p>
  </section>

  <section *ngIf="!loading && courses.length" class="course-grid">
    <article class="course-card" *ngFor="let course of courses">
      <header class="course-header">
        <div>
          <h2>{{ course.name }}</h2>
          <span class="course-code">{{ course.code }}</span>
        </div>
      </header>

      <p class="course-description">
        {{ course.description || 'No description provided.' }}
      </p>

      <dl class="course-meta">
        <div>
          <dt>Max capacity</dt>
          <dd>{{ course.max_capacity }}</dd>
        </div>
        <div>
          <dt>Currently enrolled</dt>
          <dd>{{ course.enrolled_count }}</dd>
        </div>
      </dl>

      <footer class="course-footer">
        <button class="btn-primary" (click)="apply(course)">
          Apply for this course
        </button>
      </footer>
    </article>
  </section>
</div>
